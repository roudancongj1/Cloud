<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>隔离系统</title>
    <link rel="stylesheet" href="css/ele.css">
    <!--图标-->
    <link rel="shortcut icon" href="img/favicon.ico" >
    <script src="js/vue.global.js"></script>
    <script src="js/element-plus.js"></script>
    <script src="js/axios.min.js"></script>
    <script src="js/vue-router.global.js"></script>
    <script src="js/jquery-3.6.0.min.js"></script>

    <style>
        #app{
            width: 100%;
            top: 0;
            left: 0;
            position: absolute;
        }
        body{
            background: #f9f9fa;
        }
        .header {
            padding: 40px;
            text-align: right;
            height: 100px;
        }
        .herderLink {
            margin: 0 20px;
            font-size: 20px;
        }
        .copyright{
            text-align: center;
            position: relative;
            bottom: auto;
        }
        .cont{
            padding: 100px;
        }
        .contSev{
            padding: 100px;

        }
        .addInfo{
            margin: 50px 20px;
        }
        .label .el-form-item__label{
            font-family: "Microsoft YaHei UI";
            font-size: 20px;
            color: #606266;
        }
    </style>
</head>
<body>
<div id="app">
    <el-container>
        <el-header class="header">
            <el-affix>
                <el-link class="herderLink" @click="index">首页</el-link>
                <el-link class="herderLink" @click="services">服务</el-link>
                <el-link class="herderLink" @click="city">城市</el-link>
                <el-link class="herderLink" @click="support">信息</el-link>
                <el-link class="herderLink" @click="about">关于</el-link>
                <el-link class="herderLink" @click="feedback">反馈</el-link>
                <el-button class="herderLink" @click="toLogin" v-if="visitor" round>登录</el-button>
                <el-dropdown trigger="click" v-else>
                    <el-button class="herderLink" circle>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" class="bi bi-person-lines-fill" viewBox="0 0 16 16">
                            <path d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z"/>
                        </svg>
                    </el-button>
                    <template #dropdown>
                        <el-dropdown-menu>
                            <el-dropdown-item @click="toUser">个人资料</el-dropdown-item>
                            <el-dropdown-item v-if="userRole != '0'" @click="toManage">后台管理</el-dropdown-item>
                            <el-dropdown-item v-else @click="toAccount">
                                <span>&nbsp;&nbsp;购物车</span>
                            </el-dropdown-item>
                            <el-dropdown-item @click="logout" divided>退出登录</el-dropdown-item>
                        </el-dropdown-menu>
                    </template>
                </el-dropdown>
            </el-affix>
        </el-header>
        <el-main>
            <router-view></router-view>
            <!--<img src="img/404.jpg">-->
            <Copyright></Copyright>
        </el-main>
    </el-container>
</div>

<script>



    const Copyright= {
        template: '<div class="copyright">' +
                      '<p>Isolation Hotel selection</p>' +
                      '<p>Copyright © 2022 by Empty seat</p>' +
                  '</div>'
    }

    const App ={
        data(){
            return{
                token: '',
                visitor: true,
                userRole: '',
            }
        },
        methods: {
            index() {
                this.$router.push({ name: 'index' })
            },
            services() {
                this.$router.push({ name: 'services' })
            },
            city() {
                this.$router.push({ name: 'city' })
            },
            about() {
                this.$router.push({ name: 'about' })
            },
            support() {
                this.$router.push({ name: 'support' })
            },
            feedback() {
                this.$router.push({
                    name: 'feedback',
                    params: {
                        id: '3',
                        name: '城市'
                    }
                })
            },
            toLogin() { window.location.href="/toLogin" },
            toUser() { window.location.href="/user" },
            toAccount() {window.location.href="/account" },
            toManage() { window.location.href="/manage"},
            toVisitor() {
                axios({
                    method: 'get',
                    url: 'visitor',
                    headers: {'token': localStorage.getItem('token')}
                }).then(res => {
                    this.visitor = res.data.data
                    if (!res.data.data){
                        axios({
                            method: 'get',
                            url: 'userRole',
                            headers: {'token': localStorage.getItem('token')}
                        }).then(res => {
                            this.userRole = res.data.userRole
                        })
                    }
                })
            },
            logout() {
                axios({
                    method: 'get',
                    url: 'logout',
                    headers: {'token': localStorage.getItem('token')}
                }).then(res => {
                    if (res.data.code === '0'){
                        this.$notify.success({
                            title: '注销成功',
                            message: '请重新登陆'
                        })
                    }else {
                        this.$notify.error({
                            title: '注销失败',
                            message: res.data.msg
                        })
                    }
                    window.setTimeout(function (){window.location.reload()},2*1000)
                })
            }

        },
        created() {
            this.toVisitor()

        },
        watch: {
          // $route(){
          //     this.$route.params.label=this.cards.l
          // },
        },
        mounted() {
            this.token = localStorage.getItem('token')
        },
        components: {
            'Copyright': Copyright
        }
    }

    const index = {
        template:
            '<el-container class="cont">\n' +
            '    <div>\n' +
            '        <h1 style="font-size: 30px">出差/旅游到疫情地区?</h1>\n' +
            '        <h3>担心隔离的环境脏,乱,差?</h3>\n' +
            '        <p>隔离期间的日日夜夜少不了对亲人的思念，舒适的隔离环境对您显得尤为重要，一起来挑选一个满意的隔离地点吧!</p>\n' +
            '        <router-link to="city"><el-button type="info" round>点击挑选</el-button></router-link>\n' +
            '    </div>\n' +
            '    <img  src="img/index1.png">\n' +
            '</el-container>\n' +'',
        methods:{
        },
        created(){
        }
    }

    const services = { template: '<el-container>\n' +
            '                <el-header style="text-align: center">\n' +
            '                    <h1>我们的服务</h1>\n' +
            '                    <el-divider></el-divider>\n' +
            '                </el-header>\n' +
            '                <el-main>\n' +
            '                        <el-container>\n' +
            '                            <el-card v-for="(ser,index) in staticSer" style="margin: 20px;width: 25%">\n' +
            '                                <template #header>\n' +
            '                                    <div>\n' +
            '                                        <span style="color: red;text-decoration: underline">{{ser.staticLabel}}</span>\n' +
            '                                    </div>\n' +
            '                                </template>\n' +
            '                                <div><span style="color: #303133">{{ser.staticValue}}</span></div>\n' +
            '                            </el-card>\n' +
            '                        </el-container>\n' +
            '                        <el-divider></el-divider>\n' +
            '                            <el-container class="contSev">\n' +
            '                            <div style="width: 60%"><h2>您可以通过城市标签挑选您喜欢的隔离地点\n' +
            '                             </h2><span>酒店信息环境价格清晰可见无二次隐形消费</span>\n' +
            '                             <h1 style="color: #66b1ff">您也可以通过城市界面查看当前城市风险等级</h1></div>\n' +
            '                            <img src="img/s3.png ">\n' +
            '                            </el-container>\n' +
            '                        <el-divider></el-divider>\n' +
            '                            <el-container class="contSev">\n' +
            '                            <img src="img/s2.png ">\n' +
            '                            <div style="width: 60%;">' +
            '                            <h2 style="text-align: right">在您下单后,我们会第一时间进行系统的对接</h2>\n' +
            '                            <h4 style="text-align: right">我们会安排专人为您提供整套服务,您只需提供您的航班号</h4>' +
            '                            <h1 style="color: #ff4d51;text-align: right">请留意您的短信,不要错过行程哦</h1></div>\n' +
            '                            </el-container>\n' +
            '                        <el-divider></el-divider>\n' +
            '                            <el-container class="contSev">\n' +
            '                            <div style="width: 60%"><h2>我们由封闭车辆对您出站第一时间进行闭环转运\n' +
            '                             </h2><span>下车后工作人员会与您取得联系</span>\n' +
            '                             <h1 style="color: #a4da89">我们将会直接开往隔离酒店确保您及周围人的安全</h1></div>\n' +
            '                            <img src="img/s1.png ">\n' +
            '                            </el-container>\n' +
            '                </el-main>\n' +
            '            </el-container>' + '',
        data(){
            return{
                staticSer: [],
            }
        },
        methods: {
            serviceInfo() {
                axios({
                    method: 'get',
                    url: 'data/static/SERVICE',
                }).then(res => {
                    if (res.data.code === '0') {
                        this.staticSer = res.data.data
                    } else {
                        this.$massage.error(res.data.msg)
                    }
                })
            },
        },
        created(){
            this.serviceInfo()
        }
    }

    const city = {
        template: '<el-carousel height="600px" style="width: 90%;margin: auto">\n' +
            '          <el-carousel-item >\n' +
            '              <img src="img/sh.jpg" style="object-fit: cover;width: 100%;height: 100%">\n' +
            '          </el-carousel-item>\n' +
            '          <el-carousel-item >\n' +
            '              <img src="img/gz.jpg" style="object-fit: cover;width: 100%;height: 100%">\n' +
            '          </el-carousel-item>\n' +
            '          <el-carousel-item >\n' +
            '              <img src="img/bj.jpg" style="object-fit: cover;width: 100%;height: 100%">\n' +
            '          </el-carousel-item>\n' +
            '          <el-carousel-item >\n' +
            '              <img src="img/sz.jpg" style="object-fit: cover;width: 100%;height: 100%">\n' +
            '          </el-carousel-item>\n' +
            '      </el-carousel><br>\n'+
            '      <div style="text-align: right">\n'+
            '      <el-input style="width: 200px;margin: 0 20px"' +
            '                placeholder="城市名称" v-model="wrapper"></el-input>\n' +
            '      <el-button type="primary" @click="queryCityListLike">查询</el-button>\n' +
            '      </div><br>\n' +
            '      <component is="el-menu"' +
            '                 background-color="#606266"' +
            '                 text-color="#ffffff"' +
            '                 active-text-color="#ffd04b"' +
            '                 unique-opened' +
            '                 >\n' +
            '          <el-sub-menu v-for="cval in cityList" @click="queryPlaceList(cval.cityId)" :index="[cval.cityId]">\n' +
            '              <template #title>' +
            '                  <span>————{{cval.cityName}}————</span>' +
            '                  <div style="width: 100%;text-align: right">\n' +
            '                  <span style="text-align: right">&nbsp;&nbsp;{{cval.cityInfo}}&nbsp;&nbsp;&nbsp;&nbsp;</span>' +
            '                  </div>' +
            '              </template>\n' +
            '                  <el-menu-item v-for="(place,num) in placeList" index="[cval.cityId]-[num]" >' +
            '                  <div style="width: 100%">{{place.placeAddress}}&nbsp;&nbsp;{{place.placeName}}<el-button @click="expectTo(place.placeMark)" style="float: right">点击选择</el-button><div>' +
            '                  </el-menu-item>\n' +
            '          </el-sub-menu>\n' +
            '      </component>' +''
        ,
        data(){
            return{
                cityList: [],
                placeList: [],
                wrapper: '',
            }
        },
        methods:{
            queryCityList() {
                axios({
                    method: 'get',
                    url: 'data/simpleCityInfo',
                }).then(res => {
                    if(res.data.code){
                        this.cityList=res.data.data
                    }else {
                        this.$message.error(res.data.msg)
                    }
                })
            },
            queryPlaceList(pId) {
                axios({
                    method: 'get',
                    url: 'data/simplePlaceInfo',
                    params:{
                        pId: pId
                    }
                }).then(res => {
                    if(res.data.code=== '0'){
                        this.placeList=res.data.data
                    }else {
                        this.$message.error(res.data.msg)
                    }
                })
            },
            expectTo(num){
                axios({
                    method: 'post',
                    url: 'updateExpect',
                    headers: {'token': localStorage.getItem('token') },
                    params:{
                        expectId: num
                    }
                }).then(res => {
                    if(res.data.code === '0'){
                        window.location.href = '/account'
                    }else {
                        this.$message.error(res.data.msg)
                    }
                })
            },
            queryCityListLike() {
                axios({
                    method: 'get',
                    url: 'data/searchCity',
                    params: {
                        wrapper: this.wrapper
                    }
                }).then(res => {
                    if(res.data.code === '0'){
                        this.cityList=res.data.data
                    }else {
                        this.$message.error(res.data.msg)
                    }
                })
            },

        },
        created(){
            this.queryCityList()
        },
        components: {
            'menu-child': {
                template:
                    '<el-menu-item v-for="(pval,index) in placeList" index="[index+1]-[index+1]">'+
                    '{{index}}'+
                    '</el-menu-item>',
                props: {
                    pId: Number
                },
                data(){
                    return{
                        placeList: [],
                    }
                },
                methods: {
                    queryPlaceList() {
                        axios({
                            method: 'get',
                            url: 'data/simplePlaceInfo',
                            headers: {'token': localStorage.getItem('token') },
                            params:{
                                pId: this.pId
                            }
                        }).then(res => {
                            if(res.data.code){
                                this.placeList=res.data.data
                            }else {
                                this.$message.error(res.data.msg)
                            }
                        })
                    }
                },
                created(){
                    this.queryPlaceList()
                }
            },
        }
    }


    const support = {
        template:
            '<el-row gutter="20" >' +
            '<el-col :span="8">' +
            '<h3>境外输入:</h3>' +
            '<h3 style="color: #ebb563">{{htmlInfo.asymptomatic}}</h3>' +
            '</el-col>\n'+
            '<el-col :span="8">' +
            '<h3>无症状感染者:</h3>' +
            '<h3 style="color: #f3d19e">{{htmlInfo.cumulativeCure}}</h3>' +
            '</el-col>\n'+
            '<el-col :span="8">' +
            '<h3>现有确诊:</h3>' +
            '<h3 style="color: red">{{htmlInfo.overseasInput}}</h3>' +
            '</el-col>\n'+
            '</el-row>\n'+
            '<el-row gutter="20" >' +
            '<el-col :span="8">' +
            '<h3>累计确诊:</h3>' +
            '<h3 style="color: brown">{{htmlInfo.cumulativeDiagnosis}}</h3>' +
            '</el-col>\n'+
            '<el-col :span="8">' +
            '<h3>累计死亡:</h3>' +
            '<h3 >{{htmlInfo.cumulativeDeath}}</h3>' +
            '</el-col>\n'+
            '<el-col :span="8">' +
            '<h3>累计治愈:</h3>' +
            '<h3 style="color: green">{{htmlInfo.existingDiagnosis}}</h3>' +
            '</el-col>\n'+
            '</el-row>\n'+
            '<div style="text-align: right">\n'+
            '<el-button @click="downloadForm" type="success">下载今日疫情表格</el-button>\n'+
            '</div>\n'+
            '<el-table :data="apiInfo" style="width: 100%">\n' +
            '    <el-table-column prop="name" label="name" width="180" />\n' +
            '    <el-table-column prop="children.name" label="children.name" width="180" />\n' +
            '    <el-table-column prop="today.confirm" label="today.confirm"  />\n' +
            '    <el-table-column prop="today.confirmCuts" label="today.confirmCuts" />\n' +
            '    <el-table-column prop="today.isUpdated" label="oday.isUpdated"/>\n' +
            '    <el-table-column prop="total.nowConfirm" label="total.nowConfirm" />\n' +
            '    <el-table-column prop="total.confirm" label="today.confirm"  />\n' +
            '    <el-table-column prop="total.dead" label="total.dead" />\n' +
            '    <el-table-column prop="total.showRate" label="total.howRatem" />\n' +
            '    <el-table-column prop="total.heal" label="total.heal" />\n' +
            '    <el-table-column prop="total.showHeal" label="total.showHeal" />\n' +
            '    <el-table-column prop="total.grade" label="total.grade" />\n' +
            '</el-table>\n' +
            '</div>\n',
        data() {
            return {
                apiInfo: [],
                htmlInfo: {
                    asymptomatic: '',
                    cumulativeCure: '',
                    cumulativeDeath: '',
                    cumulativeDiagnosis: '',
                    existingDiagnosis: '',
                    overseasInput: '',
                }
            };
        },
        methods: {
            downloadForm(){
                window.location.href = window.location.protocol+'//'+window.location.host+'/data/exportToday'
            },
            toApiInfo() {
                //  axios.get("https://view.inews.qq.com/g2/getOnsInfo?name=disease_h5").then(res => {
                //      res.data.data.forEach( name => {
                //          this.apiInfo.push(name)
                //      })
                //  })
                $.ajax({
                    url: 'https://view.inews.qq.com/g2/getOnsInfo?name=disease_h5',
                    method: 'get',
                    dataType: 'jsonp'
                }).then(res => {
                    const val =[JSON.parse(res.data)]
                    for(let i=0,l=val.length;i<l;i++){
                        for(let key in val[i]){
                            if(key ==='areaTree'){
                                const tree=val[i][key]
                                //alert(tree)
                                for (let j = 0; j <tree.length; j++) {
                                    for (let treeKey in tree[j]) {
                                        if(treeKey ==='children'){
                                            const city=tree[j][treeKey]
                                            for (let k = 0; k < city.length; k++) {
                                                for (let cityKey in city[k]) {
                                                    if(cityKey ==='children'){
                                                        let dd=city[k][cityKey]

                                                        this.apiInfo.push(...dd)
                                                        //alert(JSON.stringify(this.apiInfo))
                                                        //alert(JSON.stringify(city[k][cityKey]))
                                                    }
                                                }
                                            }
                                           // this.apiInfo=city
                                           // alert(JSON.stringify(this.apiInfo))
                                        }
                                    }
                                }
                                //alert(key+':'+JSON.stringify(val[i][key]));
                            }
                        }
                    }
                })
            },
            HtmlInfo(){
                axios({
                    url: 'data/queryHtmlInfo',
                    method: 'get',
                    headers: {'token': localStorage.getItem('token') },
                }).then(res => {
                    if(res.data.code === '0'){
                        this.htmlInfo=res.data.data
                    }else {
                        this.$message.error(res.data.msg)
                    }
                })
            }
        },
        created(){
            this.toApiInfo()
            this.HtmlInfo()
        }
    }




    const about = {
        template: '<el-container>\n' +
            '          <el-header style="text-align: center">\n' +
            '              <h1>关于</h1>\n' +
            '          </el-header>\n' +
            '          <el-main>\n' +
            '              <el-container>\n' +
            '                  <div style="width: 50%;text-align: right;padding: 20px" >\n' +
            '                  <div v-for="(abo,index) in staticAbo">\n' +
            '                      <p>{{abo.staticLabel}}</p><el-divider></el-divider>\n' +
            '                  </div>\n' +
            '                  </div>\n' +
            '                  <div style="width: 50%;padding: 20px">\n' +
            '                  <div  v-for="(abo,index) in staticAbo">\n' +
            '                      <p>{{abo.staticValue}}</p><el-divider></el-divider>\n' +
            '                  </div>\n' +
            '                  </div>\n' +
            '              </el-container>\n' +
            '          </el-main>\n' +
            '      </el-container>' + '',
        data() {
          return {
              staticAbo: [],
          }
        },
        methods: {
            aboutInfo() {
                axios({
                    method: 'get',
                    url: 'data/static/ABOUT',
                }).then(res => {
                    if (res.data.code === '0'){
                        this.staticAbo = res.data.data
                        //alert(JSON.stringify(this.staticAbo))
                    }else {
                        this.$message.error(res.data.msg)
                    }
                })
            },
        },
        created() {
            this.aboutInfo()
        }
    }





    const feedback = {
        template: '<el-container>\n' +
            '          <div style="width: 40%;padding: 10px">\n' +
            '              <el-card>\n' +
            '                  <template #header>\n' +
            '                      <div class="card-header">\n' +
            '                          <h2>我们的联系方式</h2>\n' +
            '                      </div>\n' +
            '                  </template>\n' +
            '                  <h3 class="addInfo">地址:北京市朝阳区百xxxxx</h3>\n' +
            '                  <h3 class="addInfo">电话:181xxxx8872</h3>\n' +
            '                  <h3 class="addInfo">邮箱:Yun_mic@126.com</h3>\n' +
            '                  <h3 class="addInfo">联系人:高xx</h3>\n' +
            '                  <h3 class="addInfo" style="color: #66b1ff">您也可以在右侧在线向我们发送邮件提交您宝贵的建议></h3>\n' +
            '              </el-card>\n' +
            '          </div>\n' +
            '          <div style="width: 60%;padding: 10px">\n' +
            '              <el-form   ref="feedbackFrom"' +
            '                        :model="feedbackFrom" ' +
            '                        :rules="feedbackRule" ' +
            '                        label-position="left" ' +
            '                        label-width="150px" ' +
            '                        status-icon>\n' +
            '                  <el-form-item label="邮箱:" class="label" prop="mail">\n' +
            '                      <el-input placeholder="邮箱" v-model="feedbackFrom.mail"></el-input>\n' +
            '                  </el-form-item>\n' +
            '                  <el-form-item label="地址:" class="label" prop="address">\n' +
            '                      <el-input placeholder="地址" v-model="feedbackFrom.address"></el-input>\n' +
            '                  </el-form-item>\n' +
            '                  <el-form-item label="电话/手机:" class="label" prop="phone">\n' +
            '                      <el-input placeholder="电话" v-model.number="feedbackFrom.phone"></el-input>\n' +
            '                  </el-form-item>\n' +
            '                  <el-form-item label="您的意见:" class="label" prop="opinion">\n' +
            '                      <el-input type="textarea" ' +
            '                                placeholder="留言" ' +
            '                                rows="13"' +
            '                                v-model="feedbackFrom.opinion"></el-input>\n' +
            '                  </el-form-item>' +
            '                  <el-divider></el-divider>' +
            '                  <el-button type="primary" style="width: 100%" @click="toFeedback(\'feedbackFrom\')"><svg xmlns="http://www.w3.org/2000/svg" width="40" height="12" fill="currentColor" class="bi bi-envelope-check" viewBox="0 0 16 16">\n' +
            '  <path d="M2 2a2 2 0 0 0-2 2v8.01A2 2 0 0 0 2 14h5.5a.5.5 0 0 0 0-1H2a1 1 0 0 1-.966-.741l5.64-3.471L8 9.583l7-4.2V8.5a.5.5 0 0 0 1 0V4a2 2 0 0 0-2-2H2Zm3.708 6.208L1 11.105V5.383l4.708 2.825ZM1 4.217V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v.217l-7 4.2-7-4.2Z"/>\n' +
            '  <path d="M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Zm-1.993-1.679a.5.5 0 0 0-.686.172l-1.17 1.95-.547-.547a.5.5 0 0 0-.708.708l.774.773a.75.75 0 0 0 1.174-.144l1.335-2.226a.5.5 0 0 0-.172-.686Z"/>\n' +
            '</svg>提交</el-button>\n' +
            '              </el-form>\n' +
            '          </div>\n' +
            '      </el-container>' +'',
        data() {
            return{
                feedbackFrom: {
                    mail: '',
                    address: '',
                    phone: '',
                    opinion: ''
                },
                feedbackRule: {
                    mail: [
                        { required: true, message: '邮箱不能为空', trigger: 'blur' },
                    ],
                    address: [
                        { required: true, message: '密码不能为空', trigger: 'blur' },
                    ],
                    phone: [
                        { required: true, message: '电话/手机不能为空', trigger: 'blur' },
                        { type: 'number', message: '电话/手机必须为数字' },
                    ],
                    opinion: [
                        { required: true, message: '意见不能为空', trigger: 'blur' },
                    ]
                },

            }
        },
        methods: {
            toFeedback(feedbackFrom){
                this.$refs.feedbackFrom.validate(valid => {
                    if (valid) {
                        axios({
                            method: 'post',
                            url: 'sendMail',
                            data: {
                                mail: this.feedbackFrom.mail,
                                address: this.feedbackFrom.address,
                                phone: this.feedbackFrom.phone,
                                opinion: this.feedbackFrom.opinion,
                            },
                            headers: {'token': localStorage.getItem('token')}
                        }).then(res => {
                            if(res.data.code === '0'){
                                this.$message.success(res.data.msg)
                            }else {
                                this.$message.error(res.data.msg)
                            }
                        })
                    }
                })
            }
        }
    }


    const error = {
        template: '<div style="padding: 100px;text-align: center" ><h1>无效的页面路径^^</h1>' +
            '<img src="img/404p.png"><br><router-link to="index">返回首页</router-link></div>'
    }

    const router = VueRouter.createRouter({
        history: VueRouter.createWebHashHistory(),
        routes: [
            { path: '/:catchAll(.*)', redirect: '/404'},
            { path: '/404', name: '404', component: error },
            { path: '/', redirect: '/index'},
            { path: '/index', name: 'index', component: index },
            { path: '/services', name: 'services', component: services},
            { path: '/city', name: 'city', component: city},
            { path: '/about', name: 'about', component: about},
            { path: '/support', name: 'support', component: support},
            { path: '/feedback', name: 'feedback', component: feedback}

        ]
    })
    Vue.createApp(App)
        .use(router)
        .use(ElementPlus)
        .mount("#app")
</script>
</body>
</html>
